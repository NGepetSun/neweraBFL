<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BFL TV ‚Äî Live Streaming</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --red: #e50914;
      --red-dark: #b20710;
      --red-glow: rgba(229,9,20,0.3);
      --bg: #141414;
      --bg2: #1a1a1a;
      --bg3: #222;
      --card: #1f1f1f;
      --border: rgba(255,255,255,0.08);
      --text: #e5e5e5;
      --text2: #999;
      --text3: #555;
      --green: #22c55e;
      --gold: #f5c518;
      --navbar-h: 62px;
      --footer-h: 70px;
      --bar-h: 72px;
    }

    html, body {
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: 'DM Sans', sans-serif;
      overflow-x: hidden;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LOADING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .loading-screen {
      position: fixed; inset: 0; background: #000;
      z-index: 9999; display: flex; flex-direction: column;
      align-items: center; justify-content: center; gap: 20px;
      transition: opacity .6s, visibility .6s;
    }
    .loading-screen.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
    .loading-logo { font-family: 'Bebas Neue', sans-serif; font-size: 3.2rem; letter-spacing: 5px; color: var(--red); }
    .loading-logo span { color: #fff; }
    .loader-bar { width: 180px; height: 3px; background: #222; border-radius: 2px; overflow: hidden; }
    .loader-fill { height: 100%; background: var(--red); animation: loadfill 2.8s ease-in-out forwards; }
    @keyframes loadfill { from { width:0 } to { width:100% } }
    .loading-sub { font-size: .72rem; letter-spacing: 2px; color: var(--text3); text-transform: uppercase; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .navbar {
      position: fixed; top: 0; left: 0; right: 0; z-index: 900;
      height: var(--navbar-h);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 44px;
      background: linear-gradient(to bottom, rgba(0,0,0,.95) 0%, transparent 100%);
      transition: background .3s;
    }
    .navbar.scrolled {
      background: rgba(18,18,18,.97);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--border);
    }
    .nav-logo { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 3px; color: var(--red); user-select: none; }
    .nav-logo span { color: #fff; }
    .nav-right { display: flex; align-items: center; gap: 14px; }
    .nav-tag { font-size: .7rem; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; color: var(--text2); }
    .live-pill {
      display: flex; align-items: center; gap: 6px;
      background: rgba(229,9,20,.14); border: 1px solid rgba(229,9,20,.4);
      border-radius: 20px; padding: 4px 14px;
      font-size: .7rem; font-weight: 700; letter-spacing: 2px; color: var(--red);
    }
    .live-dot { width: 7px; height: 7px; background: var(--red); border-radius: 50%; animation: blink 1.4s infinite; flex-shrink:0; }
    @keyframes blink {
      0%,100% { opacity:1; box-shadow:0 0 0 0 var(--red-glow); }
      50% { opacity:.4; box-shadow:0 0 0 5px transparent; }
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hero {
      position: relative; height: 78vh; min-height: 480px;
      display: flex; align-items: flex-end;
      overflow: hidden; background: #000;
    }
    .hero-iframe-wrap { position: absolute; inset: 0; pointer-events: none; }
    .hero-iframe-wrap iframe { width:100%; height:100%; border:0; transform:scale(1.06); }
    .hero-vignette {
      position: absolute; inset: 0; pointer-events: none;
      background:
        linear-gradient(to top, rgba(20,20,20,1) 0%, rgba(20,20,20,.55) 38%, transparent 66%),
        linear-gradient(to right, rgba(20,20,20,.7) 0%, transparent 55%);
    }
    .hero-content {
      position: relative; z-index: 10;
      padding: 0 60px 56px; max-width: 580px;
    }
    .hero-live-badge {
      display: inline-flex; align-items: center; gap: 6px;
      background: var(--red); color: #fff;
      font-size: .62rem; font-weight: 800; letter-spacing: 2.5px;
      padding: 4px 12px; border-radius: 4px; margin-bottom: 14px;
    }
    .hero-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(2.4rem,5vw,4rem); line-height:1;
      letter-spacing: 2px; color: #fff;
      text-shadow: 2px 2px 20px rgba(0,0,0,.85); margin-bottom: 18px;
    }
    .hero-meta { display:flex; align-items:center; gap:10px; font-size:.8rem; color:var(--text2); margin-bottom:22px; }
    .hero-meta-dot { width:4px; height:4px; background:var(--text3); border-radius:50%; }
    .hero-btns { display:flex; gap:10px; }
    .btn-watch {
      display:flex; align-items:center; gap:8px;
      padding: 11px 26px; background:#fff; color:#000;
      font-weight:700; font-size:.9rem; border-radius:6px;
      border:none; cursor:pointer; transition: background .2s, transform .15s;
    }
    .btn-watch:hover { background:#ddd; transform:scale(1.03); }
    .btn-more {
      display:flex; align-items:center; gap:8px;
      padding:11px 22px; background:rgba(109,109,110,.65); color:#fff;
      font-weight:600; font-size:.88rem; border-radius:6px;
      border:none; cursor:pointer; backdrop-filter:blur(4px); transition:background .2s;
    }
    .btn-more:hover { background:rgba(109,109,110,.9); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    main {
      padding-bottom: calc(var(--bar-h) + var(--footer-h) + 20px);
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .section { padding: 8px 44px 36px; }
    .section-header {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 16px;
    }
    .section-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.35rem; letter-spacing: 2px; color: var(--text);
    }
    .section-badge {
      font-size: .7rem; font-weight: 600; color: var(--text2);
      background: var(--bg3); padding: 4px 12px; border-radius: 12px;
      border: 1px solid var(--border);
    }
    .no-live-msg {
      text-align: center; padding: 60px 20px; color: var(--text3);
    }
    .no-live-msg h3 {
      font-family:'Bebas Neue',sans-serif; font-size:1.6rem;
      letter-spacing:2px; color:var(--text2); margin-bottom:8px;
    }
    .no-live-msg p { font-size:.85rem; }
    .btn-refresh {
      margin-top:16px; padding:9px 22px; background:var(--red);
      color:#fff; border:none; border-radius:6px; font-weight:600;
      cursor:pointer; transition:background .2s;
    }
    .btn-refresh:hover { background:var(--red-dark); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ STREAM GRID ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .stream-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(270px,1fr));
      gap: 14px;
    }
    .stream-card {
      position: relative; background: var(--card); border-radius:8px;
      overflow:hidden; cursor:pointer;
      border: 1px solid var(--border);
      transition: transform .25s cubic-bezier(.4,0,.2,1), box-shadow .25s;
      display: flex; flex-direction: column;
    }
    .stream-card:hover {
      transform: scale(1.04);
      box-shadow: 0 12px 40px rgba(0,0,0,.7), 0 0 0 2px rgba(229,9,20,.5);
      z-index: 10;
    }
    .stream-thumb {
      position: relative; aspect-ratio:16/9;
      background:#000; overflow:hidden;
    }
    .stream-thumb iframe {
      position:absolute; inset:0; width:100%; height:100%;
      border:0; pointer-events:none;
    }
    .stream-play-overlay {
      position:absolute; inset:0;
      background:linear-gradient(to top,rgba(0,0,0,.85) 0%,transparent 50%);
      opacity:0; transition:opacity .28s;
      display:flex; align-items:center; justify-content:center;
    }
    .stream-card:hover .stream-play-overlay { opacity:1; }
    .play-circle {
      width:52px; height:52px; background:rgba(255,255,255,.9);
      border-radius:50%; display:flex; align-items:center; justify-content:center;
      transition:transform .2s;
    }
    .stream-card:hover .play-circle { transform:scale(1.1); }
    .play-circle svg { margin-left:3px; }
    .live-label {
      position:absolute; top:10px; left:10px;
      background:var(--red); color:#fff;
      font-size:.58rem; font-weight:800; letter-spacing:2px;
      padding:3px 8px; border-radius:3px;
    }
    .stream-info {
      padding:10px 12px; background:var(--card);
    }
    .stream-name {
      font-size:.84rem; font-weight:600; color:var(--text);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .stream-sub { font-size:.68rem; color:var(--text3); margin-top:3px; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CHANNEL BAR ‚Äî LIVE ONLY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .channel-bar {
      position: fixed;
      bottom: var(--footer-h);
      left: 0; right: 0;
      height: var(--bar-h);
      z-index: 800;
      background: rgba(15,15,15,.97);
      backdrop-filter: blur(14px);
      border-top: 1px solid var(--border);
      display: flex; align-items: center;
      padding: 0 20px;
      gap: 16px;
    }
    .bar-label { flex-shrink: 0; }
    .bar-label-top {
      font-family:'Bebas Neue',sans-serif; font-size:1rem;
      letter-spacing:2px; color:var(--red);
    }
    .bar-label-sub { font-size:.58rem; color:var(--text3); letter-spacing:1px; text-transform:uppercase; margin-top:1px; }
    .bar-divider { width:1px; height:34px; background:var(--border); flex-shrink:0; }

    .channel-scroll {
      display:flex; gap:8px; overflow-x:auto; flex:1;
      scrollbar-width:none; -ms-overflow-style:none; padding:4px 0;
      align-items:center;
    }
    .channel-scroll::-webkit-scrollbar { display:none; }

    .ch-badge {
      display:flex; align-items:center; gap:7px; flex-shrink:0;
      padding:6px 14px; background:var(--bg3);
      border:1px solid var(--border); border-radius:20px;
      cursor:pointer; transition: all .2s; white-space:nowrap;
    }
    .ch-badge:hover { border-color:var(--red); background:rgba(229,9,20,.1); }
    .ch-badge.active { background:rgba(229,9,20,.18); border-color:var(--red); }
    .ch-avatar {
      width:26px; height:26px; border-radius:50%;
      background:linear-gradient(135deg,var(--red) 0%,#ff6b6b 100%);
      display:flex; align-items:center; justify-content:center;
      font-size:.58rem; font-weight:800; color:#fff; flex-shrink:0;
    }
    .ch-name { font-size:.74rem; font-weight:600; color:var(--text); }
    .ch-online { width:6px; height:6px; border-radius:50%; background:var(--green); flex-shrink:0; animation:blink 2s infinite; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FOOTER DONATION BAR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .footer-bar {
      position: fixed; bottom: 0; left: 0; right: 0;
      height: var(--footer-h); z-index: 810;
      background: rgba(8,8,8,.99);
      border-top: 1px solid rgba(245,197,24,.18);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 36px; gap: 16px;
    }
    .footer-credit { display:flex; flex-direction:column; gap:3px; }
    .footer-credit-title {
      font-family:'Bebas Neue',sans-serif; font-size:1rem;
      letter-spacing:3px; color:var(--text2);
    }
    .footer-credit-title span { color:var(--red); }
    .footer-credit-sub { font-size:.6rem; color:var(--text3); letter-spacing:.8px; }

    .footer-donate-area { display:flex; align-items:center; gap:12px; }
    .footer-donate-text { font-size:.72rem; color:var(--text2); line-height:1.5; text-align:right; }
    .footer-donate-text strong { color:var(--gold); }
    .btn-donate {
      display:flex; align-items:center; gap:7px;
      padding: 9px 18px;
      background: linear-gradient(135deg,#f5c518 0%,#d4a800 100%);
      color: #000; font-weight:800; font-size:.78rem; letter-spacing:.3px;
      border:none; border-radius:7px; cursor:pointer; white-space:nowrap;
      box-shadow:0 4px 18px rgba(245,197,24,.3);
      transition: transform .2s, box-shadow .2s;
    }
    .btn-donate:hover { transform:scale(1.05); box-shadow:0 6px 24px rgba(245,197,24,.5); }

    .footer-links { display:flex; gap:16px; align-items:center; }
    .footer-link {
      font-size:.65rem; color:var(--text3); text-decoration:none;
      letter-spacing:.5px; text-transform:uppercase; transition:color .2s;
    }
    .footer-link:hover { color:var(--text); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MODAL PLAYER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .player-modal {
      position:fixed; inset:0; z-index:2000;
      background:rgba(0,0,0,.92); backdrop-filter:blur(16px);
      display:flex; align-items:center; justify-content:center;
      opacity:0; pointer-events:none; transition:opacity .3s;
    }
    .player-modal.open { opacity:1; pointer-events:all; }
    .player-modal-inner {
      width:90vw; max-width:1080px; background:#111;
      border-radius:12px; overflow:hidden;
      box-shadow:0 30px 80px rgba(0,0,0,.85);
      transform: translateY(28px) scale(.97);
      transition: transform .32s cubic-bezier(.4,0,.2,1);
    }
    .player-modal.open .player-modal-inner { transform:translateY(0) scale(1); }
    .player-modal-video { position:relative; aspect-ratio:16/9; background:#000; }
    .player-modal-video iframe { position:absolute; inset:0; width:100%; height:100%; border:0; }
    .player-modal-bar {
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 22px; background:#111;
    }
    .modal-ch-name { font-family:'Bebas Neue',sans-serif; font-size:1.35rem; letter-spacing:2px; }
    .modal-close-btn {
      width:36px; height:36px; background:var(--bg3);
      border:1px solid var(--border); border-radius:50%;
      color:var(--text); font-size:1.2rem;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer; transition:background .2s, border-color .2s;
    }
    .modal-close-btn:hover { background:var(--red); border-color:var(--red); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ DONATE MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .donate-overlay {
      display:none; position:fixed; inset:0; z-index:3000;
      background:rgba(0,0,0,.88); backdrop-filter:blur(14px);
      align-items:center; justify-content:center;
    }
    .donate-overlay.open { display:flex; }
    .donate-box {
      background:#1a1a1a; border:1px solid rgba(245,197,24,.25);
      border-radius:14px; padding:36px 40px;
      max-width:420px; width:90vw; text-align:center;
      box-shadow:0 20px 60px rgba(0,0,0,.7);
      animation: popIn .3s cubic-bezier(.4,0,.2,1);
    }
    @keyframes popIn { from { transform:translateY(20px) scale(.96); opacity:0; } to { transform:none; opacity:1; } }
    .donate-icon { font-size:2.4rem; margin-bottom:12px; }
    .donate-title {
      font-family:'Bebas Neue',sans-serif; font-size:1.8rem;
      letter-spacing:2px; color:var(--gold); margin-bottom:8px;
    }
    .donate-desc { font-size:.82rem; color:var(--text2); margin-bottom:22px; line-height:1.6; }
    .donate-links { display:flex; flex-direction:column; gap:10px; margin-bottom:24px; }
    .donate-link-item {
      background:#222; border:1px solid #2e2e2e; border-radius:8px;
      padding:14px 16px; text-align:left; cursor:pointer;
      transition:border-color .2s;
      text-decoration:none; display:block;
    }
    .donate-link-item:hover { border-color:var(--gold); }
    .donate-link-label { font-size:.62rem; color:var(--text3); letter-spacing:1px; text-transform:uppercase; margin-bottom:4px; }
    .donate-link-url { font-size:.88rem; font-weight:600; color:var(--text); }
    .donate-close-btn {
      padding:10px 28px; background:var(--red);
      color:#fff; border:none; border-radius:6px;
      font-weight:700; font-size:.85rem; cursor:pointer;
      transition:background .2s;
    }
    .donate-close-btn:hover { background:var(--red-dark); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SCROLLBAR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    ::-webkit-scrollbar { width:4px; }
    ::-webkit-scrollbar-track { background:transparent; }
    ::-webkit-scrollbar-thumb { background:#2e2e2e; border-radius:2px; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    @media (max-width:768px) {
      .navbar { padding:0 18px; }
      .hero-content { padding:0 20px 44px; }
      .section { padding:8px 16px 28px; }
      .stream-grid { grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:10px; }
      .hero { height:55vh; }
      .nav-tag { display:none; }
      .footer-donate-text { display:none; }
      .footer-bar { padding:0 18px; }
      .footer-links { display:none; }
      :root { --bar-h:62px; --footer-h:62px; }
    }
    @media (max-width:480px) {
      .stream-grid { grid-template-columns:1fr 1fr; gap:8px; }
      .hero-btns .btn-more { display:none; }
    }
  </style>
</head>
<body>

<!-- ‚îÄ‚îÄ LOADING ‚îÄ‚îÄ -->
<div class="loading-screen" id="loadingScreen">
  <div class="loading-logo">BFL<span>TV</span></div>
  <div class="loader-bar"><div class="loader-fill"></div></div>
  <div class="loading-sub">Memeriksa siaran langsung‚Ä¶</div>
</div>

<!-- ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ -->
<nav class="navbar" id="navbar">
  <div class="nav-logo">BFL<span>TV</span></div>
  <div class="nav-right">
    <span class="nav-tag">By @elvanprmn</span>
    <div class="live-pill">
      <span class="live-dot"></span>
      <span id="navLiveCount">0</span>&nbsp;LIVE
    </div>
  </div>
</nav>

<!-- ‚îÄ‚îÄ HERO ‚îÄ‚îÄ -->
<div class="hero" id="hero">
  <div class="hero-iframe-wrap" id="heroWrap"></div>
  <div class="hero-vignette"></div>
  <div class="hero-content" id="heroContent">
    <div class="hero-live-badge">
      <span class="live-dot" style="width:5px;height:5px;background:#fff;"></span>&nbsp;SEDANG LIVE
    </div>
    <div class="hero-title" id="heroTitle">Memuat‚Ä¶</div>
    <div class="hero-meta">
      <span>YouTube Live</span>
      <span class="hero-meta-dot"></span>
      <span>Sedang Streaming</span>
    </div>
    <div class="hero-btns">
      <button class="btn-watch" id="heroWatchBtn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="black"><path d="M8 5v14l11-7z"/></svg>
        Tonton
      </button>
      <button class="btn-more" id="heroMoreBtn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v4M12 16h.01" stroke-linecap="round"/></svg>
        Info
      </button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ -->
<main id="mainContent" style="display:none;">
  <div class="section">
    <div class="section-header">
      <span class="section-title">üî¥ Live Sekarang</span>
      <span class="section-badge" id="liveCountBadge">0 Channel</span>
    </div>
    <div class="stream-grid" id="streamGrid"></div>
  </div>
</main>

<!-- ‚îÄ‚îÄ CHANNEL BAR ‚Äî hanya yang live ‚îÄ‚îÄ -->
<div class="channel-bar">
  <div class="bar-label">
    <div class="bar-label-top">Live</div>
    <div class="bar-label-sub">Channel Aktif</div>
  </div>
  <div class="bar-divider"></div>
  <div class="channel-scroll" id="channelScroll">
    <!-- live badges injected here -->
  </div>
</div>

<!-- ‚îÄ‚îÄ FOOTER / DONATION BAR ‚îÄ‚îÄ -->
<div class="footer-bar">
  <div class="footer-credit">
    <div class="footer-credit-title">BFL<span>TV</span></div>
    <div class="footer-credit-sub">Dibuat oleh @elvanprmn &bull; 2024</div>
  </div>

  <div class="footer-donate-area">
    <div class="footer-donate-text">
      Suka dengan <strong>BFL TV</strong>?<br>Dukung lewat donasi!
    </div>
    <button class="btn-donate" onclick="openDonate()">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
      </svg>
      Donasi
    </button>
  </div>

  <div class="footer-links">
    <a href="#" class="footer-link">YouTube</a>
    <a href="#" class="footer-link">Twitter</a>
    <a href="#" class="footer-link">Discord</a>
  </div>
</div>

<!-- ‚îÄ‚îÄ PLAYER MODAL ‚îÄ‚îÄ -->
<div class="player-modal" id="playerModal">
  <div class="player-modal-inner">
    <div class="player-modal-video">
      <iframe id="modalIframe"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>
    <div class="player-modal-bar">
      <div>
        <div class="modal-ch-name" id="modalChName">Channel</div>
        <div style="font-size:.7rem;color:var(--text3);margin-top:2px;">YouTube Live Stream</div>
      </div>
      <button class="modal-close-btn" onclick="closeModal()">‚úï</button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ DONATE MODAL ‚îÄ‚îÄ -->
<div class="donate-overlay" id="donateModal">
  <div class="donate-box">
    <div class="donate-icon">üíõ</div>
    <div class="donate-title">Dukung BFL TV</div>
    <p class="donate-desc">
      BFL TV dibuat dengan ‚ù§Ô∏è oleh <strong style="color:var(--text);">@elvanprmn</strong>.<br>
      Bantu kami terus berkembang dengan donasi kecil Anda!
    </p>
    <div class="donate-links">
      <a href="https://saweria.co/elvanprmn" target="_blank" class="donate-link-item">
        <div class="donate-link-label">Saweria</div>
        <div class="donate-link-url">saweria.co/elvanprmn</div>
      </a>
      <a href="https://trakteer.id/elvanprmn" target="_blank" class="donate-link-item">
        <div class="donate-link-label">Trakteer</div>
        <div class="donate-link-url">trakteer.id/elvanprmn</div>
      </a>
    </div>
    <button class="donate-close-btn" onclick="closeDonate()">Tutup</button>
  </div>
</div>

<script>
/* ============================================================
   KONFIGURASI CHANNEL
   ============================================================ */
const CHANNELS = [
  { id: "UCJTq8YQXj-2_BNgwis4SGsg", name: "RonnyBons"    },
  { id: "UCBu6n7CY3k_HdX8THmyEOEw", name: "Abeegel"      },
  { id: "UCz4s1BgKNXTwOHO0PHQHQxQ", name: "Kafeyinhere"  },
  { id: "UCsUhlZAanKWUsZxqbPbjAOw", name: "Fahrul Reyza" },
  { id: "UCZHSRSIP9m2uxOAOlVJGytw", name: "Danny"         },
  { id: "UCamUqGw_jBciNhBNwBcJFRg", name: "Nathann"       },
  { id: "UCKciWscgYbPCuAdtX91x06w", name: "Deplonnn"      },
  { id: "UCvrhggVJsdR6uYvuIrX_Grg", name: "Dipiwww"       },
  { id: "UCrvlbX01F8qtXlJDXX7czVg", name: "Rey"           },
  { id: "UCYKxEdT_OBIUv7_zJkyQkdg", name: "AndreMemet"    },
  { id: "UCQV0qkau8jIHyn5iRY6bIcg", name: "Syacei"        },
  { id: "UCKN2A4ShReXSHJER9_lfwLw", name: "Bopeng16"      },
  { id: "UChEzBCVwQg3EC7QjsF3iZHw", name: "Zotafrz"       },
  { id: "UC-x7sdu_4FNa5fsGDr3nfbQ", name: "Nanzz"         },
  { id: "UCUC6Ovlo-UNQD5lKcLIn6Q",  name: "Neyna"         },
  { id: "UCt2QdjyIsTHOVzFlTB37UeA", name: "artszzy"       },
  { id: "UCb9tHaLY3XFM6V2Is_Z2R6A", name: "Eko D Libra"   },
  { id: "UCgqC90SQYpod4-Ys-6NVUHw", name: "Edot"          },
  { id: "UCZyUX_68LnJ-AA6REPU45Ew", name: "Jonanthan"     },
];

let liveChannels = [];
let activeChId   = null;

/* ‚îÄ‚îÄ CEK LIVE VIA RSS + oEmbed ‚îÄ‚îÄ */
async function checkLiveStatus() {
  const results = await Promise.allSettled(CHANNELS.map(fetchChannelInfo));
  liveChannels = results
    .map(r => r.status === 'fulfilled' ? r.value : null)
    .filter(ch => ch && ch.isLive);
  if (!liveChannels.length)
    liveChannels = CHANNELS.map(ch => ({ ...ch, isLive:true, videoId:null }));
}

async function fetchChannelInfo(ch) {
  try {
    const proxy = url => `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
    const abort = (ms) => { const c = new AbortController(); setTimeout(()=>c.abort(),ms); return c; };

    const rssRes = await fetch(proxy(`https://www.youtube.com/feeds/videos.xml?channel_id=${ch.id}`),
      { signal: abort(5000).signal });
    if (!rssRes.ok) throw 0;

    const xml   = new DOMParser().parseFromString(await rssRes.text(), 'text/xml');
    const entry = xml.querySelector('entry');
    if (!entry) return { ...ch, isLive:false, videoId:null };

    const videoId = entry.querySelector('videoId')?.textContent || null;
    if (!videoId) return { ...ch, isLive:false, videoId:null };

    const oeRes = await fetch(
      proxy(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`),
      { signal: abort(5000).signal });
    if (!oeRes.ok) return { ...ch, isLive:false, videoId };

    return { ...ch, isLive:true, videoId };
  } catch {
    return { ...ch, isLive:true, videoId:null };
  }
}

function embedUrl(ch, autoplay=1, mute=1) {
  return ch.videoId
    ? `https://www.youtube.com/embed/${ch.videoId}?autoplay=${autoplay}&mute=${mute}&controls=1`
    : `https://www.youtube.com/embed/live_stream?channel=${ch.id}&autoplay=${autoplay}&mute=${mute}`;
}

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
function renderHero() {
  if (!liveChannels.length) {
    document.getElementById('heroTitle').textContent = 'Tidak Ada Yang Live';
    return;
  }
  const ch = liveChannels[0];
  document.getElementById('heroWrap').innerHTML =
    `<iframe src="${embedUrl(ch,1,1)}"
       allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
       allowfullscreen></iframe>`;
  document.getElementById('heroTitle').textContent = ch.name;
  document.getElementById('heroWatchBtn').onclick = () => openModal(ch);
  document.getElementById('heroMoreBtn').onclick  = () => openModal(ch);
}

/* ‚îÄ‚îÄ STREAM GRID ‚îÄ‚îÄ */
function renderGrid() {
  const grid = document.getElementById('streamGrid');
  const count = liveChannels.length;
  document.getElementById('liveCountBadge').textContent = `${count} Channel`;
  document.getElementById('navLiveCount').textContent   = count;

  if (!count) {
    grid.innerHTML = `
      <div class="no-live-msg" style="grid-column:1/-1;">
        <div style="font-size:2.5rem;margin-bottom:12px;opacity:.25;">üì∫</div>
        <h3>Belum Ada Yang Live</h3>
        <p>Semua channel sedang offline. Coba lagi nanti.</p>
        <button class="btn-refresh" onclick="location.reload()">üîÑ Refresh</button>
      </div>`;
    return;
  }

  grid.innerHTML = '';
  liveChannels.forEach(ch => {
    const card = document.createElement('div');
    card.className = 'stream-card';
    card.innerHTML = `
      <div class="stream-thumb">
        <iframe src="${embedUrl(ch,0,1)}" loading="lazy"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
        <div class="stream-play-overlay">
          <div class="play-circle">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="black"><path d="M8 5v14l11-7z"/></svg>
          </div>
        </div>
        <div class="live-label">‚óè LIVE</div>
      </div>
      <div class="stream-info">
        <div class="stream-name">${esc(ch.name)}</div>
        <div class="stream-sub">YouTube Live</div>
      </div>`;
    card.addEventListener('click', () => openModal(ch));
    grid.appendChild(card);
  });
}

/* ‚îÄ‚îÄ CHANNEL BAR ‚Äî HANYA YANG LIVE ‚îÄ‚îÄ */
function renderChannelBar() {
  const scroll = document.getElementById('channelScroll');
  scroll.innerHTML = '';

  if (!liveChannels.length) {
    scroll.innerHTML = `<span style="font-size:.75rem;color:var(--text3);padding:0 8px;white-space:nowrap;">
      Tidak ada channel yang sedang live</span>`;
    return;
  }

  liveChannels.forEach(ch => {
    const badge = document.createElement('div');
    badge.className = 'ch-badge';
    badge.dataset.id = ch.id;
    const init = ch.name.split(' ').map(w=>w[0]).join('').substring(0,2).toUpperCase();
    badge.innerHTML = `
      <div class="ch-avatar">${init}</div>
      <span class="ch-name">${esc(ch.name)}</span>
      <span class="ch-online"></span>`;
    badge.addEventListener('click', () => {
      activeChId = ch.id;
      document.querySelectorAll('.ch-badge').forEach(b =>
        b.classList.toggle('active', b.dataset.id === ch.id));
      openModal(ch);
    });
    scroll.appendChild(badge);
  });
}

/* ‚îÄ‚îÄ MODAL PLAYER ‚îÄ‚îÄ */
function openModal(ch) {
  activeChId = ch.id;
  document.querySelectorAll('.ch-badge').forEach(b =>
    b.classList.toggle('active', b.dataset.id === ch.id));
  document.getElementById('modalIframe').src = embedUrl(ch,1,0);
  document.getElementById('modalChName').textContent = ch.name;
  document.getElementById('playerModal').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeModal() {
  document.getElementById('playerModal').classList.remove('open');
  document.getElementById('modalIframe').src = '';
  document.body.style.overflow = '';
  activeChId = null;
  document.querySelectorAll('.ch-badge').forEach(b => b.classList.remove('active'));
}
document.getElementById('playerModal').addEventListener('click', e => {
  if (e.target === document.getElementById('playerModal')) closeModal();
});

/* ‚îÄ‚îÄ DONATE MODAL ‚îÄ‚îÄ */
function openDonate()  { document.getElementById('donateModal').classList.add('open'); }
function closeDonate() { document.getElementById('donateModal').classList.remove('open'); }
document.getElementById('donateModal').addEventListener('click', e => {
  if (e.target === document.getElementById('donateModal')) closeDonate();
});

/* ‚îÄ‚îÄ NAVBAR SCROLL ‚îÄ‚îÄ */
window.addEventListener('scroll', () =>
  document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 40));

/* ‚îÄ‚îÄ ESC KEY ‚îÄ‚îÄ */
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') { closeModal(); closeDonate(); }
});

/* ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ */
function esc(str) {
  const d = document.createElement('div'); d.textContent = str; return d.innerHTML;
}

/* ‚îÄ‚îÄ INIT ‚îÄ‚îÄ */
async function init() {
  try { await checkLiveStatus(); }
  catch { liveChannels = CHANNELS.map(ch => ({ ...ch, isLive:true, videoId:null })); }

  renderHero();
  renderGrid();
  renderChannelBar();
  document.getElementById('mainContent').style.display = 'block';

  setTimeout(() =>
    document.getElementById('loadingScreen').classList.add('hidden'), 3000);
}

document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
